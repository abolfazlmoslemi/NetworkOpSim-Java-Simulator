<configuration>

    <!-- Appender برای نمایش لاگ در کنسول (مناسب برای دیباگ در IDE) -->
    <!-- این Appender لاگ‌ها را در پنجره Run یا Debug در IntelliJ IDEA نمایش می‌دهد. -->
    <appender name="STDOUT" class="ch.qos.logback.core.ConsoleAppender">
        <encoder>
            <!--
                فرمت لاگ در کنسول:
                %d{HH:mm:ss.SSS} -> زمان (ساعت:دقیقه:ثانیه.میلی‌ثانیه)
                [%thread] -> نام تردی که لاگ را ثبت کرده
                %-5level -> سطح لاگ (INFO, DEBUG, ERROR) با طول ثابت ۵ کاراکتر
                %logger{36} -> نام کلاسی که لاگ را ثبت کرده (حداکثر ۳۶ کاراکتر)
                %msg%n -> پیام اصلی لاگ و رفتن به خط بعد
            -->
            <pattern>%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n</pattern>
        </encoder>
    </appender>

    <!-- Appender برای ذخیره لاگ در فایل با قابلیت چرخشی (Rolling) -->
    <!-- این Appender لاگ‌ها را در یک فایل فیزیکی روی دیسک ذخیره می‌کند. -->
    <appender name="FILE" class="ch.qos.logback.core.rolling.RollingFileAppender">
        <!-- مسیر فایل لاگ اصلی. پوشه logs به صورت خودکار ساخته می‌شود. -->
        <file>logs/game.log</file>

        <!-- سیاست چرخشی: بر اساس زمان -->
        <rollingPolicy class="ch.qos.logback.core.rolling.TimeBasedRollingPolicy">
            <!--
                الگوی نام فایل‌های آرشیو شده.
                هر روز یک فایل لاگ جدید با تاریخ همان روز ساخته می‌شود (مثلاً game.2024-05-21.log).
            -->
            <fileNamePattern>logs/game.%d{yyyy-MM-dd}.log</fileNamePattern>

            <!-- تاریخچه لاگ‌ها تا 30 روز گذشته نگهداری می‌شود. فایل‌های قدیمی‌تر به طور خودکار حذف می‌شوند. -->
            <maxHistory>30</maxHistory>
        </rollingPolicy>

        <encoder>
            <!-- فرمت لاگ در فایل (مشابه کنسول اما با تاریخ کامل) -->
            <pattern>%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n</pattern>
        </encoder>
    </appender>

    <!--
        تنظیمات ریشه (Root Logger):
        این تنظیمات برای تمام لاگرهای پروژه اعمال می‌شود مگر اینکه به طور خاص بازنویسی شوند.
        level="DEBUG": حداقل سطح لاگی که باید پردازش شود را DEBUG تنظیم می‌کنیم.
        این یعنی لاگ‌های DEBUG, INFO, WARN, ERROR همگی ثبت خواهند شد.
        برای نسخه نهایی بازی، می‌توانید این را به "INFO" تغییر دهید تا لاگ‌های DEBUG ثبت نشوند.
    -->
    <root level="DEBUG">
        <!-- لاگ‌ها به هر دو مقصد (کنسول و فایل) ارسال می‌شوند. -->
        <appender-ref ref="STDOUT" />
        <appender-ref ref="FILE" />
    </root>

</configuration>